<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{% block title %}Tree Talk Forum{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body class="loggedin d-flex flex-column min-vh-100" style="background-image: url('{{ url_for('static', filename='profile_images/tree_background.jpg') }}'); background-size: cover; background-position: center; background-repeat: no-repeat;">
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Tree Talk</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    {% if user_role %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% if user_role == 'admin' %}{{ url_for('admin.admin_home') }}{% elif user_role == 'moderator' %}{{ url_for('moderator.moderator_home') }}{% elif user_role == 'member' %}{{ url_for('member.member_home') }}{% endif %}">
                                <i class="fas fa-home"></i> Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('common.profile') }}">
                                <i class="fas fa-user-circle"></i> Profile
                            </a>
                        </li>
                        {% if user_role == 'admin' %}
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('admin.user_management') }}">
                                    <i class="fas fa-users"></i> Users
                                </a>
                            </li>
                        {% endif %}
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('common.logout') }}">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </a>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('common.login') }}">
                                <i class="fas fa-sign-in-alt"></i> Signin
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Flash Messages -->
    <div class="container mt-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="alert-container">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        {% endwith %}
    </div>

    <!-- Main Content -->
    <div class="container flex-grow-1 d-flex align-items-center justify-content-center">
        <div class="content bg-light p-4 rounded shadow-sm text-center">
            {% block content %}
            <h2>Welcome to the Tree Talk Message Board!</h2>
            <p class="lead">We're your local community forum for everything tree-related! Join us to share experiences, ask questions, and get advice on trees and gardening. From resolving neighbor issues to caring for your garden, our community is here for you. Join today and connect with fellow enthusiasts!</p>
            {% endblock %}
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer mt-auto py-3 bg-dark text-light text-center">
        <div class="container">
            <p>Created by Sophia | Student ID: 1161732</p>
        </div>
    </footer>

    <!-- Bootstrap JS and dependencies -->
</body>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</html>
